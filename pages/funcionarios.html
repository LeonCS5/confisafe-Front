<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ConfiSafe - Gest√£o de Funcion√°rios">
  
  <title>Funcion√°rios | ConfiSafe</title>
  
  <!-- CSS globais -->
  <link rel="stylesheet" href="../css/tokens.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/layout.css">
  <link rel="stylesheet" href="../css/components.css">
  <link rel="stylesheet" href="../css/sidebar.css">

  <!-- partes compartilhadas -->
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="../css/footer.css">

  <!-- CSS espec√≠fico desta p√°gina -->
  <link rel="stylesheet" href="../css/pages/funcionarios.css">

  <!-- sidebar user -->
  <script src="../js/sidebar.js" defer></script>
</head>
<body class="page-funcionarios">

  <!-- HEADER -->
  <header class="navbar">
    <h1 class="logo">
      <a href="../pages/inicial.html">
        <span class="conf">Confi</span><span class="safe">Safe</span>
      </a>
    </h1>
    
    <nav class="menu">
      <a href="../pages/inicial.html">In√≠cio</a>
      <a href="../pages/configuracoes.html">Configura√ß√µes</a>
      <button class="btn-logout" id="logoutBtn">Sair</button>
    </nav>

    <!-- Mobile Toggle -->
    <button class="menu-toggle" id="menuToggle" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      
      <!-- User Info -->
      <div class="user-info">
        <img src="../assets/img/perfilimg.webp" alt="Foto de perfil" class="user-avatar">
        <h2 class="user-name" id="userName">Usu√°rio</h2>
        <p class="user-role"  id="userRole">Cargo</p>
      </div>

      <!-- Menu -->
      <nav class="sidebar-nav">
        <a href="../pages/inicial.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          </svg>
          <span>Painel Inicial</span>
        </a>

        <a href="../pages/controle-acesso.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
          <span>Controle de Acesso</span>
        </a>

        <a href="../pages/epis.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"></path>
          </svg>
          <span>Monitoramento EPIs</span>
        </a>

        <a href="../pages/gestao-epis.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
            <line x1="12" y1="22.08" x2="12" y2="12"></line>
          </svg>
          <span>Gest√£o de EPIs</span>
        </a>

        <a href="../pages/funcionarios.html" class="nav-link active">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" 
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M7 21v-2a4 4 0 0 1 3-3.87"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>Funcion√°rios</span>
        </a>

        <a href="../pages/treinamento.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
          </svg>
          <span>Treinamentos</span>
        </a>

        <a href="../pages/relatorio.html" class="nav-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="20" x2="18" y2="10"></line>
            <line x1="12" y1="20" x2="12" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="14"></line>
          </svg>
          <span>Relat√≥rios</span>
        </a>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      
      <!-- Header da p√°gina -->
      <div class="page-header">
        <h2>Gest√£o de Funcion√°rios</h2>
        <p>Cadastre, edite e acompanhe os colaboradores autorizados a atuar em espa√ßos confinados.</p>
      </div>

      <!-- Resumo / Cards -->
      <section class="section">
        <h3 class="section-title">Resumo dos Funcion√°rios</h3>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
              <span class="stat-value" id="totalFuncionarios">0</span>
              <span class="stat-label">Total de Funcion√°rios</span>
            </div>
          </div>

          <div class="stat-card stat-card--success">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-info">
              <span class="stat-value" id="funcionariosAtivos">0</span>
              <span class="stat-label">Ativos</span>
            </div>
          </div>

          <div class="stat-card stat-card--warning">
            <div class="stat-icon">‚è∏Ô∏è</div>
            <div class="stat-info">
              <span class="stat-value" id="funcionariosInativos">0</span>
              <span class="stat-label">Inativos</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Tabela de Funcion√°rios -->
      <section class="section">
        <div class="section-header">
          <h3 class="section-title">Lista de Funcion√°rios</h3>
          <button class="btn-primary" id="btnAddFuncionario">+ Novo Funcion√°rio</button>
        </div>

        <div class="table-wrapper">
          <table class="data-table" id="funcionariosTable">
            <thead>
              <tr>
                <th>Nome</th>
                <th>Cargo</th>
                <th>Departamento</th>
                <th>E-mail</th>
                <th>Telefone</th>
                <th>Status</th>
                <th style="width: 120px;">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="funcionariosTableBody">
              <!-- preenchido via JS -->
            </tbody>
          </table>
        </div>
      </section>

    </main>
  </div>

  <!-- MODAL: CADASTRO / EDI√á√ÉO DE FUNCION√ÅRIO -->
  <div class="modal" id="funcionarioModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalFuncionarioTitle">Novo Funcion√°rio</h3>
        <button type="button" class="modal-close" id="closeFuncionarioModal">&times;</button>
      </div>

      <form id="funcionarioForm" class="modal-form">
        <div class="form-grid">
          <div class="form-group">
            <label for="funcNome">Nome completo</label>
            <input type="text" id="funcNome" name="nome" placeholder="Ex: Jo√£o Silva" required>
          </div>

          <div class="form-group">
            <label for="funcCargo">Cargo</label>
            <input type="text" id="funcCargo" name="cargo" placeholder="Ex: T√©cnico de Seguran√ßa" required>
          </div>

          <div class="form-group">
            <label for="funcDepartamento">Departamento</label>
            <input type="text" id="funcDepartamento" name="departamento" placeholder="Ex: Seguran√ßa do Trabalho">
          </div>

          <div class="form-group">
            <label for="funcEmail">E-mail corporativo</label>
            <input type="email" id="funcEmail" name="email" placeholder="nome.sobrenome@empresa.com" required>
          </div>

          <div class="form-group">
            <label for="funcTelefone">Telefone</label>
            <input
              type="tel"
              id="funcTelefone"
              name="telefone"
              placeholder="(11) 99999-9999"
              maxlength="15"
              inputmode="numeric"
              autocomplete="off"
            >
          </div>


          <div class="form-group">
            <label for="funcAtivo">Status</label>
            <select id="funcAtivo" name="ativo" required>
              <option value="true" selected>Ativo</option>
              <option value="false">Inativo</option>
            </select>
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-secondary" id="cancelFuncionarioBtn">Cancelar</button>
          <button type="submit" class="btn-primary" id="saveFuncionarioBtn">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <p>&copy; 2025 ConfiSafe - Todos os direitos reservados.</p>
  </footer>

  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="loading-spinner" style="display: none;">
    <div class="spinner"></div>
    <p>Carregando dados...</p>
  </div>

  <!-- JS espec√≠fico da p√°gina -->
  <script src="../js/funcionarios.js"></script>
</body>
</html>
